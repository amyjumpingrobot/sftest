<div class="feed-ctrl">
  <div class="user-nav-bar slow-topleft-eased">
    <div class="user">
      <img class="user-thumb hoverable" ng-click="toggleMenu()" ng-src="{{thumbUrl(user)}}">
    </div>
    <div class="user-menu">
      <ul>
        <li class="hoverable" ng-click="logOut()">Log Out</li>
      </ul>
    </div>
  </div>

  <div class="feed-items-container slim-centered-container">
    <form class="feed-post" ng-submit="feedPostSubmit()">
      <img class="feed-post-user-thumb" ng-src="{{thumbUrl(user)}}">
      <input class="feed-post-text" ng-required="true" ng-pattern="/\S/" ng-model="feedPostText" ng-trim="true" placeholder="What's new?">
      <button class="feed-post-submit hoverable" ng-click="feedPostNow($event)" ng-disabled="feedPostText.$invalid">Post</button>
    </form>

    <ul class="feed-items">
      <li class="feed-item" ng-repeat="feedItem in feed | orderBy:'-postedAt' track by feedItem.postedAt">
        <img class="feed-item-user-thumb" ng-src="{{thumbUrl(feedItem.user)}}">
        <div class="feed-item-user-name">{{feedItem.user.name}}</div>
        <div class="feed-item-posted-at">{{feedItem.postedAt | prettyDate}}</div>
        <div class="feed-text">{{feedItem.content}}</div>
        <button class="feed-item-delete hoverable quick-eased" ng-click="feedItemDelete(feedItem)" ng-hide="{{!canDeletePost(feedItem.user)}}">X</button>
        <a ng-href="" class="feed-comments-cta linkish hoverable">{{feedItem.childFeedItems | prettyCommentsCTA}}</a>
      </li>
    </ul>
    <div class="feed-items-none" ng-show="feed.length == 0">
      No feed items.<br>
      Add one?
    </div>
  <div>

  <div class="feed-item-delete-modal-container" ng-click="dismissDeleteModal()">
    <div class="feed-item-delete-modal">
      <div class="title">Delete</div>
      <div class="prompt">Are you sure you want to delete this post?</div>
      <div class="controls">
        <button class="feed-item-delete-no hoverable" ng-click="dismissDeleteModal()">No</button>
        <button class="feed-item-delete-yes hoverable" ng-click="deleteFeedItemNow()">Yes</button>
      </div>
      <div class="clearfix"></div>
    </div>
  </div>
</div>
